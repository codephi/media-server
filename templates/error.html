{% extends "base.html" %}

{% block title %}{{ error_title }} - Media Serve{% endblock %}

{% block content %}
<div class="flex min-h-[60vh] items-center justify-center">
    <div class="mx-auto max-w-md text-center">
        <!-- Ícone do erro -->
        <div
            class="mx-auto mb-6 flex h-12 w-12 items-center justify-center rounded-full bg-red-500/10 ring-1 ring-red-500/20">
            {% if error_type == "permission" %}
            <iconify-icon icon="heroicons:lock-closed" class="text-2xl text-red-400"></iconify-icon>
            {% else if error_type == "forbidden" %}
            <iconify-icon icon="heroicons:no-symbol" class="text-2xl text-red-400"></iconify-icon>
            {% else %}
            <iconify-icon icon="heroicons:exclamation-triangle" class="text-2xl text-red-400"></iconify-icon>
            {% endif %}
        </div>

        <!-- Título do erro -->
        <h1 class="mb-4 text-2xl font-bold text-white">{{ error_title }}</h1>

        <!-- Descrição do erro -->
        <p class="mb-6 text-base text-slate-300">{{ error_description }}</p>

        <!-- Código de status -->
        <div class="mb-6">
            <span
                class="inline-flex items-center rounded-full bg-slate-800 px-3 py-1 text-sm font-medium text-slate-300">
                Código: {{ status_code }}
            </span>
        </div>

        <!-- Detalhes técnicos (apenas em modo debug) -->
        {% if show_details %}
        {% if let Some(details) = technical_details %}
        <details class="mb-6 rounded-lg border border-slate-800/60 bg-slate-900/30 p-4 text-left">
            <summary class="cursor-pointer text-sm font-medium text-slate-300 hover:text-white">
                Detalhes técnicos
            </summary>
            <div class="mt-3 rounded bg-slate-950/50 p-3 text-xs text-slate-400 font-mono">
                {{ details }}
            </div>
        </details>
        {% endif %}
        {% endif %}

        <!-- Sugestões de ação -->
        <div class="space-y-3">
            {% if !suggestions.is_empty() %}
            <div class="rounded-lg border border-slate-800/60 bg-slate-900/30 p-4">
                <h3 class="mb-2 text-sm font-medium text-white flex items-center gap-2">
                    <iconify-icon icon="heroicons:light-bulb" class="text-yellow-400"></iconify-icon>
                    Sugestões:
                </h3>
                <ul class="space-y-1 text-sm text-slate-300">
                    {% for suggestion in suggestions %}
                    <li class="flex items-start gap-2">
                        <span class="text-slate-500">•</span>
                        <span>{{ suggestion }}</span>
                    </li>
                    {% endfor %}
                </ul>
            </div>
            {% endif %}

            <!-- Botões de ação -->
            <div class="flex flex-col gap-3 sm:flex-row sm:justify-center">
                <button onclick="history.back()"
                    class="inline-flex items-center justify-center gap-2 rounded-lg border border-slate-700/80 bg-slate-900/60 px-4 py-2 text-sm font-medium text-slate-300 transition hover:border-slate-500 hover:text-white">
                    <iconify-icon icon="heroicons:arrow-left"></iconify-icon>
                    Voltar
                </button>

                <a href="/browse/"
                    class="inline-flex items-center justify-center gap-2 rounded-lg bg-slate-700 px-4 py-2 text-sm font-medium text-white transition hover:bg-slate-600">
                    <iconify-icon icon="heroicons:home"></iconify-icon>
                    Página Inicial
                </a>

                {% if error_type == "permission" %}
                <button onclick="location.reload()"
                    class="inline-flex items-center justify-center gap-2 rounded-lg border border-blue-500/50 bg-blue-500/10 px-4 py-2 text-sm font-medium text-blue-400 transition hover:bg-blue-500/20">
                    <iconify-icon icon="heroicons:arrow-path"></iconify-icon>
                    Tentar Novamente
                </button>
                {% endif %}
            </div>
        </div>
    </div>
</div>
{% endblock %}